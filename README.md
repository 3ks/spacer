# Spacer

`Spacer` 是一个用于格式化 markdown 文件的工具，Spacer 非常灵活，每一条 `格式化规则` 都是可插拔的，你可以根据自己的需求，启用或禁用某些规则。此外，扩展 Spacer 也非常简单，您可以根据自己的情况，轻松对其进行扩展。

# 安装 Spacer

对于 Windows 用户：

对于 Linux 用户：

对于 MacOS 用户：

# 使用 Spacer

Spacer 的使用非常简单，只需通过参数 `-f` 后跟文件名或目录，即可对相关 Markdown 文件的内容进行格式化：

```bash
$ spacer -f hello-world.md
```

> 注意：Spacer 会直接修改读取到的所有文件，我们建议你在使用 Spacer 对文件进行格式化之前，执行一次 git add && git commit。这样可以避免造成不可挽回的损失。并且，在 git commit 之后再运行 Spacer，可以通过 git diff 直观的对比格式化前后内容的变化。

> 注意：如果参数 `-f` 后跟的是一个目录，Spacer 会自动遍历所有子目录及文件，这可能会影响到很多文件。

# 配置规则

### Markdown 文件

对于大多数想格式化 Markdown 文件的用户来说，Spacer 的[默认规则](rule-best-practice.md#Spacer-的默认规则)就足够了，不需要做任何修改，直接使用即可。

### 其它文件

然而 Spacer 不仅仅是一个 Markdown 格式化工具，Spacer （计划）实现了大量的规则，使用者可以根据自己的需求，编辑配置文件来启用或禁用某些规则。以达到对不同的文件进行不同效果格式化的目的。

对于特殊的 Markdown 文件和其它文件，你可以根据自己的需求[修改 Spacer 的规则配置](rule-setup.md)：

[这里](rule-best-practice.md#不同场景推荐的规则组合)有一份不同场景的推荐配置文件，你可以根据需求选择合适的配置文件。

[这里](rule-full.md)有一份完整的规则列表及其说明，你可以根据需求自行修改配置文件。

### 规则冲突

对于相同的内容，不同的规则可能得到不同的处理结果，对于这种情况，最终结果取决于规则执行的先后顺序，即后执行的规则及处理结果会覆盖前面执行的规则中有冲突的部分。

### 扩展规则

对于有更特殊的需求的使用者，你只需要实现 `Amend` 接口，就可以轻松的扩展你的自定义规则，然后在配置文件中显式的启用该规则就可以了。有关详情，请参考[扩展规则](rule-extend.md)。

# TODO

- [ ] 实现必需的一些规则。
- [ ] 一个配置文件包含多种格式文件的规则列表。
- [ ] 配置目录白名单（如忽略 `.git` 目录）。
- [ ] 处理跨行但存在关联的内容。
- [ ] 指定输出目录。
- [ ] Web 界面交互操作。
- [ ] 改掉吹牛逼的毛病。

# 目标

如果 Spacer 拥有了足够多的规则，理论上是可以处理任何`存文本`文件的，而不仅限于 Markdown 文件。比如将内容解析为人类阅读友好的格式（例如，将单行 json 格式化展开），甚至是对数据进行格式转换（例如，json 转换为 yaml）这一目标仅靠作者一人肯定无法实现，这需要热爱开源的同学们的帮助！  

# 参与贡献

如果你觉得某些规则存在问题、不够优雅，或者你有新的规则希望贡献给我们，我们都`非常欢迎`您提出 [issue](https://gorda.io/spacer/issues) 或者 [Pull Request](https://gorda.io/spacer/pulls)。
